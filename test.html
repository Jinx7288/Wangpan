<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
    </head>
    <body>
        <div id="a"></div>
        <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
        <!-- <script src="./scripts/axios.min.js"></script> -->
        <script src="https://unpkg.com/axios/dist/axios.min.js"></script>

        <script>
            function addZero(check) {
    if (check<10) {
        check="0"+check;
    }
    return check;
}

function createFrame() {
    let table=document.createElement("table");
    document.querySelector("body").prepend(table);
    let line1=document.createElement("tr");
    table.append(line1);
    for (let i=0;i<7;i++) {
        let ca=document.createElement("th");
        ca.textContent=i;
        line1.append(ca);
    }
}
function analyseInput() {
    let date=new Date();
    let yearnow=String(date.getFullYear());
    let monthnow=String(date.getMonth());
    let datefix = new Date(yearnow,monthnow,"1");
    let daynow=datefix.getDay();
    let getri=new Date(yearnow,String(+monthnow+1),"0");
    let count=getri.getDate();
    return [daynow,count];
}
function writeIn(list) {
    let line2=document.createElement("tr");
    document.querySelector("table").append(line2);
    for(let i=0;i<list[0];i++) {
        let td=document.createElement("td");
        document.querySelector("table tr+tr").append(td);     
    }
    for(let i=1;i<=7-list[0];i++) {
        let td=document.createElement("td");
        td.textContent=i;
        document.querySelector("table tr+tr").append(td);
    }
    let cache=7-list[0];
    for(let i=1;i<(list[1]-7)/7+1;i++) {
        let newtr=document.createElement("tr");
        document.querySelector("table").append(newtr);
        for(let i=0;i<7;i++) {
            let newtd= document.createElement("td");
            newtd.textContent=cache+i+1;
            newtr.append(newtd);
        }
        cache+=7;
     }
    for(let i=0;i<35-list[1]-list[0];i++) {
    document.querySelectorAll("td")[list[1]+list[0]].remove()
    }
}
function markToday() {
    let date=new Date();
    let day=date.getDate();
    document.querySelectorAll("td")[analyseInput()[0]+day-1].style.backgroundColor="red";
}
function missile() {
    createFrame();
    writeIn(analyseInput());
    markToday();
}
missile();

axios.defaults.withCredentials = true
        var vm = new Vue({
            el: "#a",
            data: {
            },
            methods: {
                out() {
                    axios.get("http://z3773e6368.qicp.vip/user/signout")
                        .then(res => {
                            console.log(res.data);
                        }).catch(err => {
                            console.log(err);
                        })
                },
                get() {
                    axios.post("http://z3773e6368.qicp.vip/user/signin", {
                        username: "aq",
                        password: "123456"
                     }
                    ).then(res => {
                        console.log(res.data);
                    }).catch(err => {
                        console.log(err);
                    })
                }
            }
        })

        </script>
    </body>
</html>